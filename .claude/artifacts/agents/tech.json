{
  "claims": [
    {
      "citations": [
        {
          "chunk_id": "SRC-math-difficulty-scoring@d17fde4f#chunk-0001",
          "line_end": 3,
          "line_start": 3,
          "quote_sha256": "dce7660ad9451605ebbf673bb04ca075a70529b587a59da94890de7f331af101",
          "source_name": "수학 난이도 채점 기준표"
        }
      ],
      "confidence": "high",
      "id": "CLM-001",
      "statement": "난이도 산출 알고리즘은 6가지 가중치(W1~W6)를 합산하여 W_총점(0~11)을 구하고, 이를 W(1~23) 스케일로 변환한 뒤, 최종적으로 C(1~15) 레벨로 매핑하는 3단계 파이프라인 구조이다. CSV 헤더에 W1_연산, W2_자릿수, W3_숫자크기, W4_복잡성, W5_특수수, W6_표현, W_총점, W(1~23), C(1~15) 컬럼이 명시되어 있다."
    },
    {
      "citations": [
        {
          "chunk_id": "SRC-math-difficulty-scoring@d17fde4f#chunk-0001",
          "line_end": 5,
          "line_start": 4,
          "quote_sha256": "4f43ef41e66ca2490d7fef33ec822308504d00a33537523622d03535d1bba999",
          "source_name": "수학 난이도 채점 기준표"
        }
      ],
      "confidence": "high",
      "id": "CLM-002",
      "statement": "W1(연산 종류 및 방향성): 덧셈은 0점(기초 연산), 뺄셈은 +1.5점(역연산 인지 필요)으로 배점된다. 이 가중치는 연산 유형에 따른 인지 부하 차이를 반영하며, 결정론적 룩업 테이블로 구현 가능하다."
    },
    {
      "citations": [
        {
          "chunk_id": "SRC-math-difficulty-scoring@d17fde4f#chunk-0001",
          "line_end": 10,
          "line_start": 8,
          "quote_sha256": "512d01cef71a2dfaaa460a46af75db4d694ec24e24bfa47fb22426f9eada19a5",
          "source_name": "수학 난이도 채점 기준표"
        }
      ],
      "confidence": "high",
      "id": "CLM-003",
      "statement": "W2(자릿수와 자릿값): 동일 자릿수 0점, 비대칭 자릿수 +1.0점, 자릿수 확장 시 자릿당 +2.0점으로 배점된다. 두 피연산자의 자릿수 차이를 비교하는 로직이 필요하며, 향후 3자리 이상 확장 시 자릿수 확장 점수가 누적 증가한다."
    },
    {
      "citations": [
        {
          "chunk_id": "SRC-math-difficulty-scoring@d17fde4f#chunk-0001",
          "line_end": 12,
          "line_start": 11,
          "quote_sha256": "79d837736ace5ac03e05513c1402f8540dd48146c775dac27d21b6792b7f8f7c",
          "source_name": "수학 난이도 채점 기준표"
        }
      ],
      "confidence": "high",
      "id": "CLM-004",
      "statement": "W3(숫자 요소 인지 부하): 0~5 구성 시 0점, 6~9 포함 시 개당 +0.5점(최대 1.5점)이다. 보수 개념 필요 여부를 판별하는 로직으로, 피연산자의 각 자릿수를 순회하며 6 이상인 자릿수를 카운트하는 알고리즘이 필요하다."
    },
    {
      "citations": [
        {
          "chunk_id": "SRC-math-difficulty-scoring@d17fde4f#chunk-0001",
          "line_end": 15,
          "line_start": 13,
          "quote_sha256": "91d877684099e5226d9527998e043a58f9c86cbd6382709d50c1efe83fde36fc",
          "source_name": "수학 난이도 채점 기준표"
        }
      ],
      "confidence": "high",
      "id": "CLM-005",
      "statement": "W4(절차적 복잡성): 상태 변화 없음 0점, 1회 올림/빌림(Carry/Borrow) +3.0점, 연속 상태 변화(Double/Continuous) +5.0점이다. 이 가중치가 가장 큰 점수 폭(0~5)을 가지며 난이도 변별에 핵심적이다. 실제 덧셈/뺄셈 시뮬레이션을 통해 올림/빌림 횟수를 계산해야 한다."
    },
    {
      "citations": [
        {
          "chunk_id": "SRC-math-difficulty-scoring@d17fde4f#chunk-0001",
          "line_end": 17,
          "line_start": 16,
          "quote_sha256": "20270fc449c8666fb0a217eb031fb69fa1ec7a9f39457e51c4164e4de49ed88f",
          "source_name": "수학 난이도 채점 기준표"
        }
      ],
      "confidence": "high",
      "id": "CLM-006",
      "statement": "W5(특수 숫자 감점): 10의 배수 포함 시 -1.0점(심리적 안착점), 동일 숫자 반복 시 -0.5점(규칙성 인지)이다. 이 가중치는 유일하게 음수로 작용하여 난이도를 낮추는 역할을 하며, 패턴 인식 기반의 감점 로직이 필요하다."
    },
    {
      "citations": [
        {
          "chunk_id": "SRC-math-difficulty-scoring@d17fde4f#chunk-0001",
          "line_end": 18,
          "line_start": 18,
          "quote_sha256": "f838b297a2a4c95cee040ba33eb45a1995523243ff9821d0715eda8163c0cddf",
          "source_name": "수학 난이도 채점 기준표"
        }
      ],
      "confidence": "high",
      "id": "CLM-007",
      "statement": "W6(표현 방식 및 문맥): 단순 수식형은 0점이며, 가로셈/문장제(단순 결합)/문장제(비교/변화) 등의 표현 유형이 존재한다. 현재 데이터셋은 단순 수식형만 포함하므로 W6는 일정값(0.5)으로 처리되어 있다."
    },
    {
      "citations": [
        {
          "chunk_id": "SRC-math-difficulty-scoring@d17fde4f#chunk-0001",
          "line_end": 4,
          "line_start": 4,
          "quote_sha256": "a415367305c1b333019850f639bf01416364b35b00e5ecc6b1db34031a0588f1",
          "source_name": "수학 난이도 채점 기준표"
        },
        {
          "chunk_id": "SRC-math-difficulty-scoring@d17fde4f#chunk-0151",
          "line_end": 53,
          "line_start": 53,
          "quote_sha256": "1f5c58945035b4bc27ce9bfabd15bddb8300b7e405a8aa2482ebe30168c6306a",
          "source_name": "수학 난이도 채점 기준표"
        }
      ],
      "confidence": "high",
      "id": "CLM-008",
      "statement": "W_총점 범위는 0~11이며 W 스케일은 1~23, C 레벨은 1~15이다. 최소값(0+0): W_총점=0, W=1, C=3. 최대값(99+98): W_총점=11, W=23, C=12. C 레벨은 W 스케일에서 비선형적으로 매핑되며, 동일 W값에서도 연산 유형(덧셈/뺄셈)과 결과값 범위에 따라 C가 달라진다."
    },
    {
      "citations": [
        {
          "chunk_id": "SRC-math-difficulty-scoring@d17fde4f#chunk-0010",
          "line_end": 25,
          "line_start": 25,
          "quote_sha256": "a892873be9d158444b0575394e9a724eb2f48a8a7291004575ddf964bd36856a",
          "source_name": "수학 난이도 채점 기준표"
        },
        {
          "chunk_id": "SRC-math-difficulty-scoring@d17fde4f#chunk-0002",
          "line_end": 88,
          "line_start": 88,
          "quote_sha256": "64edbc02a96e581eb17668b70e2b9d9f78e72aa28ca17654d974b4f9b24ee6ec",
          "source_name": "수학 난이도 채점 기준표"
        }
      ],
      "confidence": "high",
      "id": "CLM-009",
      "statement": "올림(Carry) 발생 시 W4가 3점으로 급등한다. 예: 2+8=10(W4=3, W=9, C=5), 5+5=10(W4=3, W=7, C=5). 이는 No Carry(W4=0) 대비 3점 차이로, 단일 가중치 중 가장 큰 점수 점프를 만든다. 올림/빌림 감지는 실시간 계산 엔진의 핵심 로직이다."
    },
    {
      "citations": [
        {
          "chunk_id": "SRC-math-difficulty-scoring@d17fde4f#chunk-0100",
          "line_end": 67,
          "line_start": 67,
          "quote_sha256": "77ad009cfbb3f60e6a9cf6a78f6a5621c858c4019517a71019f90ebca048aa1d",
          "source_name": "수학 난이도 채점 기준표"
        }
      ],
      "confidence": "high",
      "id": "CLM-010",
      "statement": "뺄셈에서 빌림(Borrow) 발생 시 W4=3이 부여되고, 뺄셈 기본 가중치 W1=1.5와 결합되어 높은 난이도를 형성한다. 예: 60-11(W1=1.5, W4=3, W_총점=8.5, W=18, C=14). C=14는 전체 15단계 중 상위 레벨로, 빌림이 있는 두 자리 수 뺄셈이 가장 어려운 문제 유형 중 하나임을 보여준다."
    },
    {
      "citations": [
        {
          "chunk_id": "SRC-math-difficulty-scoring@d17fde4f#chunk-0001",
          "line_end": 58,
          "line_start": 3,
          "quote_sha256": "dce7660ad9451605ebbf673bb04ca075a70529b587a59da94890de7f331af101",
          "source_name": "수학 난이도 채점 기준표"
        }
      ],
      "confidence": "high",
      "id": "CLM-011",
      "statement": "현재 데이터셋은 약 15,000개 문제를 CSV 형식으로 포함하며 0~99 범위의 두 수에 대한 덧셈/뺄셈 조합을 망라한다. 151개 청크(15,050줄)로 구성되어 있으며, 사전 계산(pre-computed) 룩업 테이블 방식으로 모든 문제의 난이도가 이미 확정되어 있다."
    },
    {
      "citations": [
        {
          "chunk_id": "SRC-math-difficulty-scoring@d17fde4f#chunk-0130",
          "line_end": 57,
          "line_start": 3,
          "quote_sha256": "64edbc02a96e581eb17668b70e2b9d9f78e72aa28ca17654d974b4f9b24ee6ec",
          "source_name": "수학 난이도 채점 기준표"
        }
      ],
      "confidence": "medium",
      "id": "CLM-012",
      "statement": "W_총점에서 W 스케일로의 변환과 W에서 C 레벨로의 변환은 비선형 매핑이다. 동일 W=22인 문제들이 모두 C=12로 매핑되는 반면, W=18에서는 덧셈 C=8~11, 뺄셈 C=13~14로 분기한다. 이는 C 레벨 결정에 연산 유형과 결과값 범위가 추가 변수로 작용함을 의미한다."
    }
  ],
  "inputs": {
    "chunks_used": [
      "SRC-math-difficulty-scoring@d17fde4f#chunk-0001",
      "SRC-math-difficulty-scoring@d17fde4f#chunk-0002",
      "SRC-math-difficulty-scoring@d17fde4f#chunk-0010",
      "SRC-math-difficulty-scoring@d17fde4f#chunk-0050",
      "SRC-math-difficulty-scoring@d17fde4f#chunk-0075",
      "SRC-math-difficulty-scoring@d17fde4f#chunk-0100",
      "SRC-math-difficulty-scoring@d17fde4f#chunk-0130",
      "SRC-math-difficulty-scoring@d17fde4f#chunk-0151"
    ],
    "evidence_index": ".claude/knowledge/evidence/index/sources.jsonl"
  },
  "open_questions": [
    {
      "citations": [],
      "id": "Q-001",
      "priority": "high",
      "question": "W_총점에서 W(1~23)로의 변환 수식이 명시되어 있지 않다. 현재 데이터에서 역산은 가능하나(W = W_총점 * 2 + 1 근사), 정확한 공식 또는 매핑 테이블이 별도 문서로 존재하는지 확인 필요하다."
    },
    {
      "citations": [],
      "id": "Q-002",
      "priority": "high",
      "question": "W(1~23)에서 C(1~15)로의 변환 로직이 단순 매핑이 아닌 조건부 분기를 포함한다. 동일 W값에서 연산 유형/결과값에 따라 C가 다르게 결정되는 규칙의 완전한 정의가 필요하다."
    },
    {
      "citations": [],
      "id": "Q-003",
      "priority": "medium",
      "question": "곱셈/나눗셈 확장 시 W1~W6 가중치 체계가 어떻게 변경되는지 정의되지 않았다. 곱셈의 인지 부하 모델(구구단 암기 vs 자릿수 곱셈)이 기존 가중치와 호환되는지 검토 필요하다."
    },
    {
      "citations": [],
      "id": "Q-004",
      "priority": "medium",
      "question": "3자리 수 확장 시 데이터 규모가 현재 ~15,000건에서 약 200만 건 이상으로 급증한다. 사전 계산 테이블 방식 유지 vs 실시간 계산 엔진 전환의 임계점을 정량적으로 결정해야 한다."
    },
    {
      "citations": [],
      "id": "Q-005",
      "priority": "low",
      "question": "W6(표현 방식)의 가로셈/문장제 유형에 대한 추가 점수가 현재 데이터에 반영되어 있지 않다. 문장제 유형 지원 시 NLP 기반 문장 파싱이 필요한지, 아니면 메타데이터 태그 방식으로 충분한지 결정 필요하다."
    }
  ],
  "project": "수학 문제 레벨링 품질 검증",
  "risks": [
    {
      "citations": [
        {
          "chunk_id": "SRC-math-difficulty-scoring@d17fde4f#chunk-0001",
          "line_end": 18,
          "line_start": 13,
          "quote_sha256": "91d877684099e5226d9527998e043a58f9c86cbd6382709d50c1efe83fde36fc",
          "source_name": "수학 난이도 채점 기준표"
        }
      ],
      "id": "RSK-001",
      "impact": "high",
      "mitigation": "W_총점→W, W→C 변환 로직을 현재 15,000건 데이터에서 역공학으로 추출하고, 전수 검증 테스트를 작성하여 100% 일치를 확인한다. 역공학 결과를 도메인 전문가(채점 기준표 작성자)에게 검증받는다.",
      "risk": "W→C 변환 로직이 비선형이고 명시적 수식이 없어, 구현 시 역공학(reverse engineering)에 의존해야 한다. 역공학 오류 시 레벨 오배정이 발생할 수 있다."
    },
    {
      "citations": [],
      "id": "RSK-002",
      "impact": "high",
      "mitigation": "Phase 1에서 현재 범위(0~99, 덧셈/뺄셈)의 룩업 테이블을 서빙하고, Phase 2에서 실시간 계산 엔진을 병행 개발한다. 룩업 테이블과 실시간 계산 결과를 Shadow Mode로 비교 검증한 뒤 전환한다.",
      "risk": "곱셈/나눗셈 및 3자리 수 확장 시 데이터 규모가 기하급수적으로 증가하여 사전 계산 테이블 방식이 유지 불가능해질 수 있다."
    },
    {
      "citations": [
        {
          "chunk_id": "SRC-math-difficulty-scoring@d17fde4f#chunk-0001",
          "line_end": 17,
          "line_start": 16,
          "quote_sha256": "20270fc449c8666fb0a217eb031fb69fa1ec7a9f39457e51c4164e4de49ed88f",
          "source_name": "수학 난이도 채점 기준표"
        }
      ],
      "id": "RSK-003",
      "impact": "medium",
      "mitigation": "W5 특수 숫자 패턴을 명확한 규칙 기반 엔진으로 구현하되, 설정 파일에서 패턴 목록을 외부화한다. 학습 데이터 축적 후 패턴별 실제 정답률과 기대 정답률의 편차를 분석하여 감점 값을 보정한다.",
      "risk": "W5(특수 숫자 감점)의 감점 기준(10의 배수, 동일 숫자 반복)이 학습자 실제 체감 난이도와 괴리가 있을 수 있다. 심리적 안착점의 효과 크기가 연령/학습 수준별로 다를 수 있다."
    },
    {
      "citations": [],
      "id": "RSK-004",
      "impact": "medium",
      "mitigation": "API 레이어에서 JSON Schema 기반 입력 검증을 적용하고, CSV 파싱 시 필드 수/타입/범위 검증을 수행한다. 데이터 무결성 체크를 CI/CD 파이프라인에 통합한다.",
      "risk": "CSV 기반 원본 데이터의 파싱 오류 또는 인코딩 문제로 가중치 값이 잘못 로드될 수 있다. 특히 음수 값(-0.5, -1.0)이 포함된 W5 컬럼에서 부호 누락 위험이 있다."
    },
    {
      "citations": [],
      "id": "RSK-005",
      "impact": "low",
      "mitigation": "계산 엔진은 stateless 함수로 구현하여 수평 확장이 가능하도록 한다. 응답 시간 SLA를 정의하고 캐싱 레이어(Redis)를 도입하여 반복 쿼리를 최적화한다.",
      "risk": "실시간 난이도 계산 엔진의 응답 지연이 학습 앱의 UX를 저하시킬 수 있다. 특히 문제 세트 생성 시 수백~수천 건의 난이도를 한번에 조회하는 배치 요청에서 병목이 발생할 수 있다."
    }
  ],
  "role": "tech",
  "version": "1.0"
}
